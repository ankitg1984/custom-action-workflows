name: Python pipeline

on: [push]

env: 
  ARTIFACT_NAME: myartifact

jobs:
  test:
    name: test-desc
    runs-on: ubuntu-latest
    steps:
    - name: Check out code
      uses: actions/checkout@v2
      
    - name: Upload artifact for linux
      run : python hello.py
      
  build:
    needs: [test]
    name: build-desc
    runs-on: ubuntu-latest
    steps:
    - name: Check out code
      uses: actions/checkout@v1
      
    - name: Upload artifact for linux
      uses: actions/upload-artifact@v2
      with:
        name: ${{ env.ARTIFACT_NAME }}
        path: .
